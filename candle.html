<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Candle Flame</title>
  <style>
    :root{
      --bg1:#05060a;
      --bg2:#0b0f1a;
      --candle:#f4efe7;
      --candle2:#e6dccf;
      --wick:#241b16;
      --shadow:#0a0b10;
    }

    html,body{height:100%;margin:0}
    body{
      display:grid;
      place-items:center;
      background:
        radial-gradient(1200px 600px at 50% 70%, rgba(255,170,80,.10), transparent 55%),
        radial-gradient(900px 500px at 50% 75%, rgba(255,210,120,.06), transparent 60%),
        radial-gradient(700px 400px at 50% 85%, rgba(255,120,40,.05), transparent 70%),
        linear-gradient(180deg,var(--bg1),var(--bg2));
      overflow:hidden;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif;
      color:#cfd6ff;
    }

    .scene{
      width:min(520px,92vw);
      height:min(640px,88vh);
      position:relative;
      display:grid;
      place-items:center;
      filter: drop-shadow(0 30px 40px rgba(0,0,0,.55));
      user-select:none;
    }

    .floor{
      position:absolute;
      bottom:6%;
      width:75%;
      height:16%;
      background: radial-gradient(closest-side, rgba(0,0,0,.65), rgba(0,0,0,.0));
      filter: blur(2px);
      opacity:.9;
    }

    .glow{
      position:absolute;
      bottom:20%;
      width:340px;
      height:340px;
      border-radius:50%;
      background:
        radial-gradient(circle at 50% 55%, rgba(255,210,120,.22), rgba(255,140,60,.10) 45%, transparent 70%);
      filter: blur(10px);
      animation: glowPulse 2.2s ease-in-out infinite;
      opacity:.85;
      pointer-events:none;
    }
    @keyframes glowPulse{
      0%,100%{transform:scale(.98);opacity:.78}
      50%{transform:scale(1.03);opacity:.92}
    }

    /* Candle */
    .candle-wrap{
      position:relative;
      width:180px;
      height:380px;
      display:grid;
      place-items:center;
    }

    .candle{
      position:absolute;
      bottom:0;
      width:140px;
      height:280px;
      border-radius: 34px 34px 24px 24px;
      background:
        linear-gradient(90deg,
          #f9f3ea 0%,
          var(--candle) 14%,
          #fff8f0 35%,
          var(--candle2) 62%,
          #d7c8b8 86%,
          #f7efe6 100%);
      box-shadow:
        inset -16px 0 26px rgba(0,0,0,.10),
        inset  10px 0 18px rgba(255,255,255,.20);
      overflow:hidden;
    }

    .candle:before{
      content:"";
      position:absolute;
      top:-22px;
      left:50%;
      transform:translateX(-50%);
      width:140px;
      height:70px;
      border-radius: 50%;
      background:
        radial-gradient(closest-side at 50% 35%,
          rgba(255,255,255,.75),
          rgba(255,255,255,.15) 55%,
          rgba(0,0,0,.10) 76%,
          rgba(0,0,0,.0) 100%),
        linear-gradient(180deg, rgba(0,0,0,.12), rgba(0,0,0,0));
      filter: blur(.2px);
      opacity:.9;
    }

    .melt{
      position:absolute;
      top:0;
      left:0;
      width:100%;
      height:100%;
      pointer-events:none;
      opacity:.95;
    }

    /* Wax drips */
    .drip{
      position:absolute;
      top:38px;
      width:18px;
      height:90px;
      border-radius: 12px 12px 16px 16px;
      background:
        linear-gradient(180deg, rgba(255,255,255,.55), rgba(0,0,0,.08)),
        linear-gradient(90deg, rgba(255,255,255,.24), rgba(0,0,0,.10));
      box-shadow: inset 0 10px 10px rgba(255,255,255,.15);
      filter: blur(.1px);
      animation: drip 3.8s ease-in-out infinite;
      transform-origin: top center;
    }
    .drip.d1{left:18px; height:120px; animation-duration:4.6s; animation-delay:-1.2s;}
    .drip.d2{left:56px; height:88px;  animation-duration:3.7s; animation-delay:-2.1s;}
    .drip.d3{left:100px;height:112px; animation-duration:5.1s; animation-delay:-0.6s;}
    .drip.d4{left:122px;height:76px;  animation-duration:3.4s; animation-delay:-1.7s;}

    @keyframes drip{
      0%{transform:scaleY(.75) translateY(0); opacity:.55}
      45%{transform:scaleY(1.02) translateY(6px); opacity:.9}
      70%{transform:scaleY(.92) translateY(2px); opacity:.75}
      100%{transform:scaleY(.78) translateY(0); opacity:.55}
    }

    /* Falling wax droplet */
    .drop{
      position:absolute;
      top:110px;
      left:32px;
      width:12px;
      height:12px;
      border-radius: 50% 50% 55% 55%;
      background: radial-gradient(circle at 35% 30%, rgba(255,255,255,.8), rgba(0,0,0,.12));
      box-shadow: inset 0 2px 4px rgba(255,255,255,.25);
      opacity:0;
      animation: dropFall 4.4s ease-in-out infinite;
    }
    .drop:nth-child(2){left:82px; animation-duration:5.2s; animation-delay:-2.0s;}
    .drop:nth-child(3){left:118px;animation-duration:4.8s; animation-delay:-3.1s;}
    @keyframes dropFall{
      0%{transform:translateY(0) scale(.8); opacity:0}
      45%{opacity:0}
      55%{opacity:.85}
      85%{transform:translateY(120px) scale(1.05); opacity:.85}
      100%{transform:translateY(150px) scale(.7); opacity:0}
    }

    /* Wick */
    .wick{
      position:absolute;
      bottom:278px;
      width:8px;
      height:42px;
      border-radius: 6px;
      background: linear-gradient(180deg, #3b2c22, var(--wick));
      box-shadow: 0 2px 0 rgba(0,0,0,.2);
      z-index:4;
    }
    .wick:before{
      content:"";
      position:absolute;
      top:-8px;
      left:50%;
      transform:translateX(-50%);
      width:10px;
      height:14px;
      border-radius: 50%;
      background: radial-gradient(circle at 50% 55%, #2a1d18, #140b09);
      opacity:.9;
    }

    /* Flame layers */
    .flame{
      position:absolute;
      bottom:318px;
      width:70px;
      height:110px;
      z-index:5;
      transform-origin: 50% 90%;
      animation: sway 1.6s ease-in-out infinite;
      filter: drop-shadow(0 0 24px rgba(255,170,70,.35));
    }

    @keyframes sway{
      0%,100%{transform:rotate(-2deg) translateX(-2px) scale(1)}
      50%{transform:rotate(3deg) translateX(2px) scale(1.02)}
    }

    .flame .outer,
    .flame .mid,
    .flame .inner{
      position:absolute;
      left:50%;
      transform:translateX(-50%);
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      clip-path: polygon(50% 0%, 65% 10%, 78% 25%, 88% 45%, 80% 70%, 60% 90%, 50% 100%, 40% 90%, 20% 70%, 12% 45%, 22% 25%, 35% 10%);
      animation: flicker 0.18s ease-in-out infinite alternate;
    }

    .flame .outer{
      top:0;
      width:70px;
      height:110px;
      background:
        radial-gradient(circle at 50% 25%, rgba(255,255,255,.85), rgba(255,220,140,.75) 30%, rgba(255,140,50,.70) 62%, rgba(210,55,20,.55) 100%);
      filter: blur(.2px);
    }

    .flame .mid{
      top:14px;
      width:48px;
      height:82px;
      background:
        radial-gradient(circle at 50% 25%, rgba(255,255,255,.85), rgba(255,235,170,.85) 35%, rgba(255,170,60,.65) 75%, rgba(255,90,30,.35) 100%);
      mix-blend-mode: screen;
      opacity:.9;
      animation-duration:0.22s;
    }

    .flame .inner{
      top:28px;
      width:28px;
      height:54px;
      background:
        radial-gradient(circle at 50% 35%, rgba(255,255,255,.95), rgba(255,250,220,.9) 40%, rgba(255,210,120,.55) 75%, rgba(255,180,80,.15) 100%);
      mix-blend-mode: screen;
      opacity:.85;
      animation-duration:0.26s;
    }

    @keyframes flicker{
      from{transform:translateX(-50%) scaleX(0.96) scaleY(1.02) rotate(-1deg); filter:blur(.2px)}
      to  {transform:translateX(-50%) scaleX(1.03) scaleY(0.98) rotate(1.2deg); filter:blur(.35px)}
    }

    /* Heat shimmer above flame */
    .shimmer{
      position:absolute;
      bottom:420px;
      width:160px;
      height:170px;
      border-radius: 50%;
      background: radial-gradient(circle at 50% 60%, rgba(255,255,255,.06), transparent 62%);
      filter: blur(8px);
      opacity:.9;
      animation: shimmer 2.4s ease-in-out infinite;
      z-index:3;
      pointer-events:none;
    }
    @keyframes shimmer{
      0%,100%{transform:translateY(0) scale(1)}
      50%{transform:translateY(-8px) scale(1.04)}
    }

    .caption{
      position:absolute;
      top:6%;
      width:100%;
      text-align:center;
      font-size:14px;
      opacity:.75;
      letter-spacing:.2px;
    }
    .caption code{opacity:.95}
  </style>
</head>
<body>
  <div class="scene">
    <div class="caption">单文件 HTML 蜡烛火焰效果（CSS 动画）</div>

    <div class="glow"></div>

    <div class="candle-wrap" aria-label="candle">
      <div class="shimmer"></div>

      <div class="flame" aria-hidden="true">
        <div class="outer"></div>
        <div class="mid"></div>
        <div class="inner"></div>
      </div>

      <div class="wick" aria-hidden="true"></div>

      <div class="candle">
        <div class="melt" aria-hidden="true">
          <div class="drip d1"></div>
          <div class="drip d2"></div>
          <div class="drip d3"></div>
          <div class="drip d4"></div>

          <div class="drop"></div>
          <div class="drop"></div>
          <div class="drop"></div>
        </div>
      </div>
    </div>

    <div class="floor"></div>
  </div>
</body>
</html>
